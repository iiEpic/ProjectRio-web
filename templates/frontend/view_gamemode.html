{% extends "base.html" %}
{% load static %}

{% block title %}
{% if tagset is None %}
Project Rio - No Gamemode
{% else %}
Project Rio - {{ tag_set.name }}
{% endif %}
{% endblock %}

{% block body %}

{% if tag_set is None %}

<h1>Gamemode does not exist, {{ tag_set_name }}</h1>

{% else %}
{% with tag_set.get_status as status %}
<div class="alert alert-{{ status.alert }} mt-3" role="alert">
    {{ status.message }}
</div>
{% endwith %}

<div class="card mt-3">
    <div class="card-header">
        <div class="display-5">
            {{ tag_set.name }} Gamemode
        </div>
    </div>
    <div class="card-body">
        <table class="table table-hover mt-3">
            <thead>
                <tr>
                    <th>Variable Name</th>
                    <th>Variable Value</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Community</td>
                    <td><a href="{% url 'frontend:communities' tag_set.community.name %}" class="link-dark">{{ tag_set.community.name }}</a></td>
                </tr>
                <tr>
                    <td>Type</td>
                    <td>{{ tag_set.type }}</td>
                </tr>
                <tr>
                    <td>Start Date</td>
                    <td>{{ tag_set.start_date }}</td>
                </tr>
                <tr>
                    <td>End Date</td>
                    <td>{{ tag_set.end_date }}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
{% include 'frontend/snippets/cards/tags.html' with fs=2 tags=tag_set.tags.all active='all' %}

{% if community %}
    <h2>Community</h2>
    <table class="table table-dark table-hover">
        <thead>
            <tr>
                <th scope="col" class="ps-3">Name</th>
                <th scope="col">Date Created</th>
                <th scope="col">Description</th>
                <th scope="col">Private</th>
                <th scope="col">Tag Set Limit</th>
                <th scope="col">Type</th>
                <th scope="col">URL</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th scope="row" class="ps-3 col-md-2"><a href="{% url 'frontend:communities' community.name %}" class="link-dark">{{ community.name }}</a></th>
                <td class="col-md-2">{{ community.date_created }}</td>
                <td class="col-md-2">{{ community.desc }}</td>
                <td class="col-md-2">{{ community.private }}</td>
                <td class="col-md-2">{{ community.active_tag_set_limit }}</td>
                <td class="col-md-2">{{ community.comm_type }}</td>
                <td class="col-md-2">{{ community.active_url }}</td>
            </tr>
        </tbody>
    </table>
{% endif %}

{% endif %}
{% endblock %}
